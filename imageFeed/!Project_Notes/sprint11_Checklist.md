## Checklist Sprint11

1. [X] Пулл-реквесты предыдущих спринтов смержены в main.

2. [X] Устранено состояние гонки в OAuthService. Получившееся решение должно корректно отрабатываться в ситуациях, когда:
   - fetchOAuthToken() был вызван два раза подряд с одинаковым code (второй вызов не дожидается завершения первого);
   - fetchOAuthToken() был вызван сначала с одним code, но спустя некоторое временя, когда первый запрос ещё не успел завершиться, был вызван с другим значением кода.

3. [X] Устранено состояние гонки c помощью блокировки UI:
    - добавлен новый класс UIBlockingProgressHUD, который синхронизирует показ и скрытие ProgressHUD с блокировкой UI;
    - сразу после закрытия WebView при авторизации (при получении CODE) показан индикатор активности — использован UIBlockingProgressHUD;
    - при завершении запроса, независимо от результата, скрыт индикатор активности;
    - пользователь не может повторно открыть экран с WebView, пока индикатор активности отображается на экране.

4. [X] Сделан сетевой слой для экрана профиля. С технической точки зрения он состоит из двух сетевых запросов.
    - Первый запрос — получение базовой информации о пользователе GET /me — логин пользователя (username), имя и фамилия (first_name, last_name), короткая информация (bio):
добавлен новый сервис ProfileService как синглтон;
    - в него добавлена функция fetchProfile, которая получает данные пользователя через запрос GET /me, используя Bearer Token;
    - с помощью этих данных мы обновляем лейблы на экране ProfileViewController;
чтобы не показывать заглушки на экране профиля, мы перенесли получение данных профиля в SplashViewController. Теперь всегда отображаем данные, актуальные на момент запуска.

    - Второй запрос — получение публичной информации о пользователе GET /users/:username — URL для получения аватарки пользователя (profile_image):
добавлен сервис ProfileImageService для получения URL аватарки пользователя;
    - добавлен Observer для уведомления ProfileImageService.didChangeNotification.

5. [X] Пока идёт загрузка данных профиля, показывается SplashViewController:
    - убедитесь, что fetchProfile вызывается не только после непосредственно авторизации, но и если authToken уже присутствует на момент запуска из метода viewDidAppear.

6. [X] Для отображения аватарки пользователя использована библиотека Kingfisher.

7. [X] В проект добавлен SwiftKeychainWrapper через SPM:
    - заменено использование OAuth2TokenStorage на хранение и получение из хранилища токена с использованием SwiftKeychainWrapper.

8. [X] Добавлен вывод сообщений об ошибках в консоль:

    - Обработан каждый вариант failure в методе data(for:) перед вызовом комплишена fulfillCompletionOnMainThread;
    - Обработаны ошибки декодирования objectTask(for:), есть информация об ошибке и о данных, которые пытались декодировать;
    - В каждом сервисе OAuth2Service, ProfileService, ProfileImageService обработан каждый полученный failure;
    - Сообщения должны быть одинакового вида, можете придерживаться такого формата [название метода и/или сервиса]: [тип ошибки] [параметры с которыми получили ошибку]. 
        Например, "[dataTask]: NetworkError - код ошибки 401".

9. [X] При получении ошибки в сетевом запросе в AuthViewController нужно показать UIAlertController с заголовком «Что-то пошло не так(», подписью «Не удалось войти в систему» и кнопкой «Ок» для скрытия алерта.

10. [X] Ключевое окно (keyWindow) создаётся из кода:
    - изменён метод application(_:, configurationForConnecting:, options:), создающий UISceneConfiguration(name: "Default Configuration", ...), который возвращает созданную из кода конфигурацию (отличающуюся от     
    - стандартной, создаваемой из Info.plist);
    - изменён метод func application(_:, configurationForConnecting:, options:), который теперь содержит создание rootViewController (а именно — SplashViewController) из кода;
    - создан класс TabBarController, который в методе awakeFromNib настраивает свои дочерние контроллеры (viewControllers);
    - класс SplashViewController свёрстан в коде, переход на экран авторизации работает корректно и визуально не отличается от версии, свёрстанной в Storyboard.

11. [X] Дизайн проекта полностью соответствует дизайну макета в Figma, включая все элементы, шрифты, цвета и отступы.
